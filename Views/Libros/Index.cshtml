@model List<ElibraryManagement.Models.Libro>

@{
    ViewData["Title"] = "Ver Libros";
}

<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" />

<section class="text-center bg-dark text-white py-5" style="background-image: url('/images/library-bg.jpg'); background-size: cover; background-position: center;">
    <div class="container">
        <h1 class="display-4 fw-bold">Explora los Libros Disponibles </h1>
        <p class="lead">Utiliza el buscador para encontrar libros o instituciones de tu interés.</p>
    </div>
</section>

<div class="container mt-5">

    <table id="librosTable" class="table table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th>Portada</th>
                <th>Título</th>
                <th>Autor</th>
                <th>Categoría</th>
                <th>Fecha Publicación</th>
                <th>Institución</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var libro in Model)
            {
                <tr>
                    <td>
                        <img src="@libro.ImagenUrl" alt="Portada" class="img-thumbnail" style="width: 60px; height: 80px;" />
                    </td>
                    <td>@libro.Titulo</td>
                    <td>@libro.Autor</td>
                    <td>@libro.Categoria</td>
                    <td>@libro.FechaPublicacion?.ToString("yyyy-MM-dd")</td>
                    <td>@libro.IdInstitucionNavigation.Nombre</td>
                </tr>
            }
        </tbody>
    </table>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

<script>
    $(document).ready(function () {
        $('#librosTable').DataTable({
            language: {
                search: "Buscar:",
                lengthMenu: "Mostrar _MENU_ libros",
                zeroRecords: "No se encontraron libros",
                info: "Mostrando _START_ a _END_ de _TOTAL_ libros",
                paginate: {
                    first: "Primero",
                    last: "Último",
                    next: "Siguiente",
                    previous: "Anterior"
                }
            }
        });
    });
</script>

